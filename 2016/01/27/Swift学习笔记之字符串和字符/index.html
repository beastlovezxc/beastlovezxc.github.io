<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Swift学习笔记之字符串和字符 | Bean&#39;s Space</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Swift学习笔记之字符串和字符颓废了三天今天终于稍微认真看了下Swift的语法，今天的内容是字符串和字符这一章节，字符串（String）就是想例如“hello,world”这样的字符（character）类型的值的集合。通过String类型来表示，可以被定义为常量或者变量。你可以在字符串内插过程中使用字符串插入常量、变量、字面量表达成更长的字符串，这样可以很容易的创建自定义的字符串值，进行展示、">
<meta property="og:type" content="article">
<meta property="og:title" content="Swift学习笔记之字符串和字符">
<meta property="og:url" content="http://yoursite.com/2016/01/27/Swift学习笔记之字符串和字符/index.html">
<meta property="og:site_name" content="Bean's Space">
<meta property="og:description" content="Swift学习笔记之字符串和字符颓废了三天今天终于稍微认真看了下Swift的语法，今天的内容是字符串和字符这一章节，字符串（String）就是想例如“hello,world”这样的字符（character）类型的值的集合。通过String类型来表示，可以被定义为常量或者变量。你可以在字符串内插过程中使用字符串插入常量、变量、字面量表达成更长的字符串，这样可以很容易的创建自定义的字符串值，进行展示、">
<meta property="og:updated_time" content="2016-01-27T14:27:27.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Swift学习笔记之字符串和字符">
<meta name="twitter:description" content="Swift学习笔记之字符串和字符颓废了三天今天终于稍微认真看了下Swift的语法，今天的内容是字符串和字符这一章节，字符串（String）就是想例如“hello,world”这样的字符（character）类型的值的集合。通过String类型来表示，可以被定义为常量或者变量。你可以在字符串内插过程中使用字符串插入常量、变量、字面量表达成更长的字符串，这样可以很容易的创建自定义的字符串值，进行展示、">
  
    <link rel="alternate" href="/atom.xml" title="Bean&#39;s Space" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Bean&#39;s Space</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">死了，就像水消失在水中。</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Zoeken"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Swift学习笔记之字符串和字符" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/01/27/Swift学习笔记之字符串和字符/" class="article-date">
  <time datetime="2016-01-27T14:07:15.000Z" itemprop="datePublished">2016-01-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Swift学习笔记之字符串和字符
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Swift学习笔记之字符串和字符"><a href="#Swift学习笔记之字符串和字符" class="headerlink" title="Swift学习笔记之字符串和字符"></a>Swift学习笔记之字符串和字符</h2><p>颓废了三天今天终于稍微认真看了下Swift的语法，今天的内容是字符串和字符这一章节，字符串（String）就是想例如“hello,world”这样的字符（character）类型的值的集合。通过String类型来表示，可以被定义为常量或者变量。你可以在字符串内插过程中使用字符串插入常量、变量、字面量表达成更长的字符串，这样可以很容易的创建自定义的字符串值，进行展示、存储以及打印。</p>
<p>尽管语法简易，但String类型是一种快速、现代化的字符串实现。 每一个字符串都是由编码无关的 Unicode 字符组成，并支持访问字符的多种 Unicode 表示形式（representations）。</p>
<h3 id="字符串字面量-String-Literals"><a href="#字符串字面量-String-Literals" class="headerlink" title="字符串字面量(String Literals)"></a>字符串字面量(String Literals)</h3><p>你可以在代码中包含一段与定义的字符串作为字符串字面量。用””包裹，可以为常量和变量提供初始值</p>
<p>let someString = “Some string literal value”</p>
<h3 id="初始化空字符串（Initializing-an-Empty-String）"><a href="#初始化空字符串（Initializing-an-Empty-String）" class="headerlink" title="初始化空字符串（Initializing an Empty String）"></a>初始化空字符串（Initializing an Empty String）</h3><p>var emptyString = “”<br>var anotherEmptyString = String()</p>
<pre><code>可以通过Bool类型的isEmpty判断字符串是否为空

if emptyString.isEmpty {
        print(&quot;Nothing to see here&quot;)
}
</code></pre><h3 id="字符串可变性（String-Mutability）"><a href="#字符串可变性（String-Mutability）" class="headerlink" title="字符串可变性（String Mutability）"></a>字符串可变性（String Mutability）</h3><p>将一个特定字符串分配给一个变量时可以对其进行修改</p>
<p>var variableString = “Horse”<br>variableString += “ and carriage”</p>
<h3 id="字符串是值类型（Strings-Are-Value-Types）"><a href="#字符串是值类型（Strings-Are-Value-Types）" class="headerlink" title="字符串是值类型（Strings Are Value Types）"></a>字符串是值类型（Strings Are Value Types）</h3><p>Swift 的String类型是值类型。 如果您创建了一个新的字符串，那么当其进行常量、变量赋值操作，或在函数/方法中传递时，会进行值拷贝。 任何情况下，都会对已有字符串值创建新副本，并对该新副本进行传递或赋值操作。 值类型在 结构体和枚举是值类型 中进行了详细描述。</p>
<p>Swift 默认字符串拷贝的方式保证了在函数/方法中传递的是字符串的值。 很明显无论该值来自于哪里，都是您独自拥有的。 您可以确信传递的字符串不会被修改，除非你自己去修改它。</p>
<p>在实际编译时，Swift 编译器会优化字符串的使用，使实际的复制只发生在绝对必要的情况下，这意味着您将字符串作为值类型的同时可以获得极高的性能。</p>
<h3 id="使用字符（Working-with-Characters）"><a href="#使用字符（Working-with-Characters）" class="headerlink" title="使用字符（Working with Characters）"></a>使用字符（Working with Characters）</h3><p>可以通过for-in 循环来便利字符串中的characters属性来获取每一个字符的值：</p>
<p>for character in “Dog!🐶”.characters {<br>        print(character)<br>}</p>
<p>也可以通过辨明Character类型并用字符字面量进行赋值，建立一个独立的字符常量或变量</p>
<p>let exclamationMark: Character = “!”</p>
<h3 id="连接字符串和字符（Concatenating-Strings-and-Characters）"><a href="#连接字符串和字符（Concatenating-Strings-and-Characters）" class="headerlink" title="连接字符串和字符（Concatenating Strings and Characters）"></a>连接字符串和字符（Concatenating Strings and Characters）</h3><p>字符串可以通过”+”连接在一起，创建一个新的字符串:</p>
<p>let string1 = “hello”</p>
<p>let string2 = “ there”</p>
<p>var welcome = string1 + string2</p>
<p>也可以通过加法赋值运算符 (+=) 将一个字符串添加到一个已经存在字符串变量上：</p>
<p>var instruction = “look over”</p>
<p>instruction += string2</p>
<p>可以用append()方法将一个字符附加到一个字符串变量的尾部：</p>
<p>let exclamationMark: Character = “!”</p>
<p>welcome.append(exclamationMark)</p>
<h3 id="字符串插值-String-Interpolation"><a href="#字符串插值-String-Interpolation" class="headerlink" title="字符串插值(String Interpolation)"></a>字符串插值(String Interpolation)</h3><pre><code>字符串插值是一种构建新字符串的方式，可以在其中包含常量、变量、字面量和表达式。 您插入的字符串字面量的每一项都在以反斜线为前缀的圆括号中：

let multiplier = 3

let message = &quot;\(multiplier) times 2.5 is \(Double(multiplier) * 2.5)&quot;
</code></pre><h3 id="Unicode"><a href="#Unicode" class="headerlink" title="Unicode"></a>Unicode</h3><pre><code>Unicode 是一个国际标准，用于文本的编码和表示。 它使您可以用标准格式表示来自任意语言几乎所有的字符，并能够对文本文件或网页这样的外部资源中的字符进行读写操作。 Swift 的String和Character类型是完全兼容 Unicode 标准的。
</code></pre><h3 id="Unicode标量（Unicode-Scalars）"><a href="#Unicode标量（Unicode-Scalars）" class="headerlink" title="Unicode标量（Unicode Scalars）"></a>Unicode标量（Unicode Scalars）</h3><pre><code>Swift 的String类型是基于 Unicode 标量 建立的。 Unicode 标量是对应字符或者修饰符的唯一的21位数字，例如U+0061表示小写的拉丁字母(LATIN SMALL LETTER A)(&quot;a&quot;)，U+1F425表示小鸡表情(FRONT-FACING BABY CHICK) (&quot;🐥&quot;)。

注意： Unicode 码位(code poing) 的范围是U+0000到U+D7FF或者U+E000到U+10FFFF。Unicode 标量不包括 Unicode 代理项(surrogate pair) 码位，其码位范围是U+D800到U+DFFF。

注意不是所有的21位 Unicode 标量都代表一个字符，因为有一些标量是留作未来分配的。已经代表一个典型字符的标量都有自己的名字，例如上面例子中的LATIN SMALL LETTER A和FRONT-FACING BABY CHICK。
</code></pre><h3 id="字符串字面量的特殊字符（Special-Characters-in-String-Literals）"><a href="#字符串字面量的特殊字符（Special-Characters-in-String-Literals）" class="headerlink" title="字符串字面量的特殊字符（Special Characters in String Literals）"></a>字符串字面量的特殊字符（Special Characters in String Literals）</h3><pre><code>字符串字面量可以包含以下特殊字符：

转义字符\0(空字符)、\\(反斜线)、\t(水平制表符)、\n(换行符)、\r(回车符)、\&quot;(双引号)、\&apos;(单引号)。
Unicode 标量，写成\u{n}(u为小写)，其中n为任意一到八位十六进制数且可用的 Unicode 位码。
</code></pre><h3 id="可扩展的字形群集（Extended-Grapheme-Clusters）"><a href="#可扩展的字形群集（Extended-Grapheme-Clusters）" class="headerlink" title="可扩展的字形群集（Extended Grapheme Clusters）"></a>可扩展的字形群集（Extended Grapheme Clusters）</h3><pre><code>每一个 Swift 的Character类型代表一个可扩展的字形群。 一个可扩展的字形群是一个或多个可生成人类可读的字符 Unicode 标量的有序排列。 举个例子，字母é可以用单一的 Unicode 标量é(LATIN SMALL LETTER E WITH ACUTE, 或者U+00E9)来表示。然而一个标准的字母e(LATIN SMALL LETTER E或者U+0065) 加上一个急促重音(COMBINING ACTUE ACCENT)的标量(U+0301)，这样一对标量就表示了同样的字母é。 这个急促重音的标量形象的将e转换成了é。

在这两种情况中，字母é代表了一个单一的 Swift 的Character值，同时代表了一个可扩展的字形群。 在第一种情况，这个字形群包含一个单一标量；而在第二种情况，它是包含两个标量的字形群：

let eAute: Character = &quot;\u{E9}&quot;

let combinedEAcute: Character = &quot;\u{65}\u{301}&quot;

可扩展的字符群集是一个灵活的方法，用许多复杂的脚本字符表示单一的Character值。 例如，来自朝鲜语字母表的韩语音节能表示为组合或分解的有序排列。 在 Swift 都会表示为同一个单一的Character值：

let precomposed: Character = &quot;\u{D55C}&quot;                  // 한


let decomposed: Character = &quot;\u{1112}\u{1161}\u{11AB}&quot;   // ᄒ, ᅡ, ᆫ

可拓展的字符群集可以使包围记号(例如COMBINING ENCLOSING CIRCLE或者U+20DD)的标量包围其他 Unicode 标量，作为一个单一的Character值：

let enclosedEAcute: Character = &quot;\u{E9}\u{20DD}&quot;

地域性指示符号的 Unicode 标量可以组合成一个单一的Character值，例如REGIONAL INDICATOR SYMBOL LETTER U(U+1F1FA)和REGIONAL INDICATOR SYMBOL LETTER S(U+1F1F8)：

let regionalIndicatorForUS: Character = &quot;\u{1F1FA}\u{1F1F8}&quot;
</code></pre><h3 id="计算字符数量（Counting-Characters）"><a href="#计算字符数量（Counting-Characters）" class="headerlink" title="计算字符数量（Counting Characters）"></a>计算字符数量（Counting Characters）</h3><pre><code>如果想要获得一个字符串中Character值的数量，可以使用字符串的characters属性的count属性：

let unusualMenagerie = &quot;Koala 🐨, Snail 🐌, Penguin 🐧, Dromedary 🐪&quot;

print(&quot;unusualMenagerie has \(unusualMenagerie.characters.count) characters&quot;)

注意在 Swift 中，使用可拓展的字符群集作为Character值来连接或改变字符串时，并不一定会更改字符串的字符数量。

例如，如果你用四个字符的单词cafe初始化一个新的字符串，然后添加一个COMBINING ACTUE ACCENT(U+0301)作为字符串的结尾。最终这个字符串的字符数量仍然是4，因为第四个字符是é，而不是e：

var word = &quot;cafe&quot;

print(&quot;the number of characters in \(word) is \(word.characters.count)&quot;)

// 打印输出 &quot;the number of characters in cafe is 4&quot;

word += &quot;\u{301}&quot;    // COMBINING ACUTE ACCENT, U+0301

print(&quot;the number of characters in \(word) is \(word.characters.count)&quot;)

// 打印输出 &quot;the number of characters in café is 4&quot;

注意： 可扩展的字符群集可以组成一个或者多个 Unicode 标量。这意味着不同的字符以及相同字符的不同表示方式可能需要不同数量的内存空间来存储。所以 Swift 中的字符在一个字符串中并不一定占用相同的内存空间数量。因此在没有获取字符串的可扩展的字符群的范围时候，就不能计算出字符串的字符数量。如果您正在处理一个长字符串，需要注意characters属性必须遍历全部的 Unicode 标量，来确定字符串的字符数量。

另外需要注意的是通过characters属性返回的字符数量并不总是与包含相同字符的NSString的length属性相同。NSString的length属性是利用 UTF-16 表示的十六位代码单元数字，而不是 Unicode 可扩展的字符群集。作为佐证，当一个NSString的length属性被一个Swift的String值访问时，实际上是调用了utf16Count。
</code></pre><h3 id="访问和修改字符串（Accessing-and-Modifying-a-String）"><a href="#访问和修改字符串（Accessing-and-Modifying-a-String）" class="headerlink" title="访问和修改字符串（Accessing and Modifying a String）"></a>访问和修改字符串（Accessing and Modifying a String）</h3><pre><code>可以通过字符串的属性和方法来访问和修改它，当然也可以用下标语法完成。
</code></pre><h3 id="字符串索引-String-Indices"><a href="#字符串索引-String-Indices" class="headerlink" title="字符串索引(String Indices)"></a>字符串索引(String Indices)</h3><pre><code>每一个String值都有一个关联的索引(index)类型，String.Index，它对应着字符串中的每一个Character的位置。

前面提到，不同的字符可能会占用不同数量的内存空间，所以要知道Character的确定位置，就必须从String开头遍历每一个 Unicode 标量直到结尾。因此，Swift 的字符串不能用整数(integer)做索引。

使用startIndex属性可以获取一个String的第一个Character的索引。使用endIndex属性可以获取最后一个Character的后一个位置的索引。因此，endIndex属性不能作为一个字符串的有效下标。如果String是空串，startIndex和endIndex是相等的。

通过调用String.Index的predecessor()方法，可以立即得到前面一个索引，调用successor()方法可以立即得到后面一个索引。任何一个String的索引都可以通过锁链作用的这些方法来获取另一个索引，也可以调用advancedBy(_:)方法来获取。但如果尝试获取出界的字符串索引，就会抛出一个运行时错误。

你可以使用下标语法来访问String特定索引的Character。

let greeting = &quot;Guten Tag!&quot;

greeting[greeting.startIndex]

// G

greeting[greeting.endIndex.predecessor()]

// !

greeting[greeting.startIndex.successor()]

// u

let index = greeting.startIndex.advancedBy(7)

greeting[index]

// a

使用characters属性的indices属性会创建一个包含全部索引的范围(Range)，用来在一个字符串中访问单个字符。

for index in greeting.characters.indices {
       print(&quot;\(greeting[index]) &quot;, terminator: &quot;&quot;)
}
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/01/27/Swift学习笔记之字符串和字符/" data-id="civ4sqe58000am9jhuj28a73y" class="article-share-link">Delen</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/02/11/Git上fork的项目获取最新源代码/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Nieuwer</strong>
      <div class="article-nav-title">
        
          Git上fork的项目获取最新源代码
        
      </div>
    </a>
  
  
    <a href="/2016/01/04/new/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Ouder</strong>
      <div class="article-nav-title">new</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categorieën</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/丫一门外汉/">丫一门外汉</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/刷题/">刷题</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/杂谈/">杂谈</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Labels</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/">Hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LeetCode/">LeetCode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/XCode/">XCode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/杂谈/">杂谈</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/虾扯淡/">虾扯淡</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/LeetCode/" style="font-size: 10px;">LeetCode</a> <a href="/tags/XCode/" style="font-size: 10px;">XCode</a> <a href="/tags/杂谈/" style="font-size: 10px;">杂谈</a> <a href="/tags/虾扯淡/" style="font-size: 10px;">虾扯淡</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archieven</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recente berichten</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/11/04/关于-git-push-每次都需要输入用户名和密码的问题/">关于 git push 每次都需要输入用户名和密码的问题</a>
          </li>
        
          <li>
            <a href="/2016/10/08/Mac-环境下安装-MongoDB/">Mac 环境下安装 MongoDB</a>
          </li>
        
          <li>
            <a href="/2016/07/25/LeetCode-371-Sum-of-Two-Integers/">LeetCode 371.Sum of Two Integers</a>
          </li>
        
          <li>
            <a href="/2016/07/25/LeetCode 371.Sum of Two Integer/">LeetCode 371.Sum of Two Integers</a>
          </li>
        
          <li>
            <a href="/2016/03/15/关于读研方向/">关于读研方向</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Bean.cb<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>